!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("rxjs"),require("rxjs/operators"),require("@angular/core"),require("@angular/fire"),require("firebase/storage"),require("firebase/app"),require("@firebase/storage")):"function"==typeof define&&define.amd?define("@angular/fire/storage",["exports","rxjs","rxjs/operators","@angular/core","@angular/fire","firebase/storage","firebase/app","@firebase/storage"],r):r(((e=e||self).angular=e.angular||{},e.angular.fire=e.angular.fire||{},e.angular.fire.storage={}),e.rxjs,e.rxjs.operators,e.ng.core,e.angular.fire,null,e.firebase,e["firebase-storage"])}(this,(function(e,r,t,n,a,o,i,u){"use strict";function s(e){return new r.Observable((function(r){var t=function(e){return r.next(e)};return e.on("state_changed",t,(function(e){return r.error(e)}),(function(){t(e.snapshot),r.complete()})),function(){return e.cancel()}}))}function c(e){var r=s(e);return{task:e,then:e.then.bind(e),catch:e.catch.bind(e),pause:e.pause.bind(e),cancel:e.cancel.bind(e),resume:e.resume.bind(e),snapshotChanges:function(){return r},percentageChanges:function(){return r.pipe(t.map((function(e){return e.bytesTransferred/e.totalBytes*100})))}}}function f(e,n,a){return{getDownloadURL:function(){return r.of(void 0).pipe(t.observeOn(n.outsideAngular),t.switchMap((function(){return e.getDownloadURL()})),a)},getMetadata:function(){return r.of(void 0).pipe(t.observeOn(n.outsideAngular),t.switchMap((function(){return e.getMetadata()})),a)},delete:function(){return r.from(e.delete())},child:function(r){return f(e.child(r),n,a)},updateMetadata:function(t){return r.from(e.updateMetadata(t))},put:function(r,t){return c(e.put(r,t))},putString:function(r,t,n){return c(e.putString(r,t,n))},listAll:function(){return r.from(e.listAll())}}}i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;var p=new n.InjectionToken("angularfire2.storageBucket"),l=function(){function e(e,r,t,n,o){this.schedulers=new a.ɵAngularFireSchedulers(o),this.keepUnstableUntilFirst=a.ɵkeepUnstableUntilFirstFactory(this.schedulers),this.storage=o.runOutsideAngular((function(){var n=a.ɵfirebaseAppFactory(e,o,r);return u.registerStorage&&u.registerStorage(i),n.storage(t||void 0)}))}return e.prototype.ref=function(e){return f(this.storage.ref(e),this.schedulers,this.keepUnstableUntilFirst)},e.prototype.upload=function(e,r,t){return f(this.storage.ref(e),this.schedulers,this.keepUnstableUntilFirst).put(r,t)},e}();l.decorators=[{type:n.Injectable,args:[{providedIn:"any"}]}],l.ctorParameters=function(){return[{type:void 0,decorators:[{type:n.Inject,args:[a.FIREBASE_OPTIONS]}]},{type:void 0,decorators:[{type:n.Optional},{type:n.Inject,args:[a.FIREBASE_APP_NAME]}]},{type:void 0,decorators:[{type:n.Optional},{type:n.Inject,args:[p]}]},{type:Object,decorators:[{type:n.Inject,args:[n.PLATFORM_ID]}]},{type:n.NgZone}]},l.ɵprov=n.ɵɵdefineInjectable({factory:function(){return new l(n.ɵɵinject(a.FIREBASE_OPTIONS),n.ɵɵinject(a.FIREBASE_APP_NAME,8),n.ɵɵinject(p,8),n.ɵɵinject(n.PLATFORM_ID),n.ɵɵinject(n.NgZone))},token:l,providedIn:"any"});var d=function(){};d.decorators=[{type:n.NgModule,args:[{providers:[l]}]}],e.AngularFireStorage=l,e.AngularFireStorageModule=d,e.BUCKET=p,e.createStorageRef=f,e.createUploadTask=c,e.fromTask=s,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=angular-fire-storage.umd.min.js.map